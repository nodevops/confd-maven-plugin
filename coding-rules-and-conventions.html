<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 2016-02-07 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>confd Maven Plugin &#x2013; </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20160207" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                confd Maven Plugin
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2016-02-07</span>
                  &nbsp;| <span id="projectVersion">Version: 0.1.0-SNAPSHOT</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="plugin-info.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
                          <a href="usage.html" title="Usage">Usage</a>
            </li>
          </ul>
                       <h5>Examples</h5>
                  <ul>
                  <li class="none">
                          <a href="example1.html" title="Simple Usage">Simple Usage</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <h1>Coding rules and conventions</h1>
<div class="sect1">
<h2 id="technical_stuff">Technical Stuff</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="stack">Stack</h3>
<div class="ulist">
<ul>
<li>
<p>Use <a href="http://joel-costigliola.github.io/assertj/">AssertJ</a> for unit tests assertions.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="best_practice">Best Practice</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="versioning">Versioning</h3>
<div class="paragraph">
<p><a href="http://semver.org/">Semantic Versioning</a> for the win!</p>
</div>
</div>
<div class="sect2">
<h3 id="scm_model">SCM Model</h3>
<div class="ulist">
<ul>
<li>
<p>git</p>
</li>
<li>
<p><code>master</code> is the main dev branch and should be deployable at any commit</p>
</li>
<li>
<p>use <code>feature branches</code> for new features. The feature branch has to be deleted once it has been merged!</p>
</li>
<li>
<p>the developper that proposes a Pull/Merge Request should NOT be the one that validates the Pull/Merge Request</p>
</li>
<li>
<p>every Pull/Merge Request is reviewed:</p>
<div class="ulist">
<ul>
<li>
<p>check that code format is OK</p>
</li>
<li>
<p>check that the commit messages match the conventions</p>
</li>
<li>
<p>check that there are tests for new code and that they are OK and relevant</p>
</li>
</ul>
</div>
</li>
<li>
<p>during the Pull/Merge Request live time, ping users in comments if an interaction is needed (using @username in comments)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="commit_messages">Commit messages</h3>
<div class="paragraph">
<p>Anatomy of a good commit message:</p>
</div>
<div class="paragraph">
<p>Here is an extract of a good document that we could use as a starting point (<a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit?pli=1#" class="bare">https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit?pli=1#</a>)</p>
</div>
<div class="sect3">
<h4 id="format_of_the_commit_message">Format of the commit message</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
&lt;BLANK LINE&gt;
&lt;body&gt;
&lt;BLANK LINE&gt;
&lt;footer&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="comment_line_length">Comment line length</h4>
<div class="paragraph">
<p>Any line of the commit message cannot be longer 100 characters! This allows the message to be easier to read on github as well as in various git tools.</p>
</div>
</div>
<div class="sect3">
<h4 id="subject_line">Subject line</h4>
<div class="paragraph">
<p>Subject line contains succinct description of the change</p>
</div>
</div>
<div class="sect3">
<h4 id="allowed_type">Allowed &lt;type&gt;</h4>
<div class="ulist">
<ul>
<li>
<p>feat (new feature for the user, not a new feature for build script)</p>
</li>
<li>
<p>fix (bug fix for the user, not a fix to a build script)</p>
</li>
<li>
<p>docs (changes to the documentation)</p>
</li>
<li>
<p>style (formatting, missing semi colons, etc; no production code change)</p>
</li>
<li>
<p>refactor (refactoring production code, eg. renaming a variable)</p>
</li>
<li>
<p>test (adding missing tests, refactoring tests; no production code change)</p>
</li>
<li>
<p>chore (updating maven pom, grunt tasks etc; no production code change)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="allowed_scope">Allowed &lt;scope&gt;</h4>
<div class="paragraph">
<p>Scope could be anything specifying place of the commit change. For example $location, $browser, $compile, $rootScope, ngHref, ngClick, ngView, etc&#8230;&#8203;</p>
</div>
</div>
<div class="sect3">
<h4 id="subject_text">&lt;subject&gt; text</h4>
<div class="paragraph">
<p>use imperative, present tense: “change” not “changed” nor “changes”
don&#8217;t capitalize first letter
no dot (.) at the end</p>
</div>
</div>
<div class="sect3">
<h4 id="message_body">Message body</h4>
<div class="paragraph">
<p>just as in &lt;subject&gt; use imperative, present tense: “change” not “changed” nor “changes”
includes motivation for the change and contrasts with previous behavior
<a href="http://365git.tumblr.com/post/3308646748/writing-git-commit-messages" class="bare">http://365git.tumblr.com/post/3308646748/writing-git-commit-messages</a>
<a href="http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html" class="bare">http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="coding_style_guide">Coding Style guide</h3>
<div class="paragraph">
<p>see <a href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md" class="bare">https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md</a> with some customization/adjustments though:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>we wrap lines at 140 chars</p>
</li>
<li>
<p>tab width (with spaces): 4</p>
</li>
<li>
<p>don&#8217;t forget to format your code before pushing to git or get ready to see checkstyle fail the build</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Eclipse formatter configuration <em>nodevops-profile-java-opening-brace-on-same-line-never-join-wrapped-lines.xml</em> can be used to enforce this convention.</p>
</div>
</div>
<div class="sect2">
<h3 id="checkstyle">Checkstyle</h3>
<div class="paragraph">
<p>In order to enforce the coding style, maven projects have to use the <em>maven-checkstyle-plugin</em> with the rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>checkstyle-checker-nodevops</p>
</li>
<li>
<p>checkstyle-suppressions-nodevops</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">pom.xml extract</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;
    &lt;version&gt;${maven-checkstyle-plugin.version}&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;validate&lt;/id&gt;
            &lt;phase&gt;validate&lt;/phase&gt;
            &lt;configuration&gt;
                &lt;configLocation&gt;checkstyle-checker-nodevops.xml&lt;/configLocation&gt;
                &lt;suppressionsLocation&gt;checkstyle-suppressions-nodevops.xml&lt;/suppressionsLocation&gt;
                &lt;includeTestSourceDirectory&gt;true&lt;/includeTestSourceDirectory&gt;
                &lt;failsOnError&gt;true&lt;/failsOnError&gt;
                &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;
                &lt;encoding&gt;UTF-8&lt;/encoding&gt;
            &lt;/configuration&gt;
            &lt;goals&gt;
                &lt;goal&gt;check&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="imports_order">Imports order</h3>
<div class="paragraph">
<p>see <a href="http://stackoverflow.com/questions/14716283/is-it-possible-for-intellij-to-organize-imports-the-same-way-as-in-eclipse" class="bare">http://stackoverflow.com/questions/14716283/is-it-possible-for-intellij-to-organize-imports-the-same-way-as-in-eclipse</a></p>
</div>
<div class="listingblock">
<div class="title">import order in Intellij</div>
<div class="content">
<pre>set "class count to use import with '*'" to 99 (seems like you cannot turn this off)
set this ordering (like eclipse defaults):
static all other,
blank,
java.*,
blank,
javax.*,
blank,
org.*,
blank,
com.*,
blank,
all other imports</pre>
</div>
</div>
</div>
</div>
</div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2016.
          All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
