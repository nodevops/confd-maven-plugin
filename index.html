<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.6 at 2016-09-17 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160917" />
    <meta http-equiv="Content-Language" content="en" />
    <title>confd Maven Plugin &#x2013; </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>confd Maven Plugin</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="publishDate">Last Published: 2016-09-17
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.1.0-SNAPSHOT
                      </li>
                      
              
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li class="active">
  
            <a href="#"><span class="none"></span>Introduction</a>
          </li>
                
      <li>
  
                          <a href="plugin-info.html" title="Goals">
          <span class="none"></span>
        Goals</a>
            </li>
                
      <li>
  
                          <a href="usage.html" title="Usage">
          <span class="none"></span>
        Usage</a>
            </li>
                              <li class="nav-header">Examples</li>
                              
      <li>
  
                          <a href="example1.html" title="Simple Usage">
          <span class="none"></span>
        Simple Usage</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-down"></span>
        Project Information</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="integration.html" title="CI Management">
          <span class="none"></span>
        CI Management</a>
            </li>
                    
      <li>
  
                          <a href="dependencies.html" title="Dependencies">
          <span class="none"></span>
        Dependencies</a>
            </li>
                    
      <li>
  
                          <a href="dependency-info.html" title="Dependency Information">
          <span class="none"></span>
        Dependency Information</a>
            </li>
                    
      <li>
  
                          <a href="distribution-management.html" title="Distribution Management">
          <span class="none"></span>
        Distribution Management</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>About</a>
          </li>
                    
      <li>
  
                          <a href="issue-tracking.html" title="Issue Management">
          <span class="none"></span>
        Issue Management</a>
            </li>
                    
      <li>
  
                          <a href="license.html" title="Licenses">
          <span class="none"></span>
        Licenses</a>
            </li>
                    
      <li>
  
                          <a href="plugin-management.html" title="Plugin Management">
          <span class="none"></span>
        Plugin Management</a>
            </li>
                    
      <li>
  
                          <a href="plugins.html" title="Plugins">
          <span class="none"></span>
        Plugins</a>
            </li>
                    
      <li>
  
                          <a href="team-list.html" title="Team">
          <span class="none"></span>
        Team</a>
            </li>
                    
      <li>
  
                          <a href="source-repository.html" title="Source Code Management">
          <span class="none"></span>
        Source Code Management</a>
            </li>
                    
      <li>
  
                          <a href="project-summary.html" title="Summary">
          <span class="none"></span>
        Summary</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="sect1">
<h2 id="confd_maven_plugin">Confd Maven Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://github.com/kelseyhightower/confd">confd</a> maven plugin aims at integrating <strong>confd</strong>, a lightweight configuration management tool, with maven.</p>
</div>
<div class="paragraph">
<p>Because we use extensively confd to deal with our environment dependant application configuration files (in a docker data-container for instance),
and because we want to use the same tool everywhere, starting with the developer workstation, we needed to be able to use confd templates and configuration files
inside a maven build.</p>
</div>
<div class="paragraph">
<p>The <em>confd-maven-plugin</em> hence allows you to use confd templates inside your project (instead of using the classical filtering features provided by default by Maven)</p>
</div>
<div class="paragraph">
<p>Note: because confd is currently not available for the Windows operating system, we provide a workaround in the form of a (very) basic java implementation of confd (only for the <em>env</em> backend) that
only supports the <code>getv</code> template function like in the <code>{{getv "/myapp/database/url"}}</code> example.</p>
</div>
<div class="paragraph">
<p>The <em>confd-maven-plugin</em> provides the notion of <em>processor</em>, that will condition the type of <em>confd</em> binary that will be use. The plugin currently
supports 2 processors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <code>local-confd-processor</code> that uses a <em>real</em> confd binary. You can specify your confd binary path by setting the <code>binary.path</code> property.</p>
</li>
<li>
<p>the <code>java-processor</code> (for windows users) that uses the java confd port</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To make the <em>confd-maven-plugin</em> work, you have 3 kind of inputs to provide:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the equivalent of the <code>TOML resource config</code> that you can specify inside the configuration of the plugin (used by the <code>prepare</code> goal)</p>
</li>
<li>
<p>the templates that will be processed (file ending by the <code>.tmpl</code> extension by convention, used by the <code>process</code> goal)</p>
</li>
<li>
<p>the dictionary file that consists in a set of key/value pairs (used by the <code>process</code> goal)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The typical usage of this plugin will be to trigger 2 differents kind of execution, through maven profiles. One for the developer workstation, that will
trigger both the <code>prepare</code> and the <code>process</code> goals, and one dedicated to prepare something like a zip or a targz file, containing
the templates and the resource config files, targeted to be used on <em>production like</em> environment. See the <code>examples</code> section.</p>
</div>
<div class="sect2">
<h3 id="goals_overview">Goals Overview</h3>
<div class="paragraph">
<p>The <em>confd-maven-plugin</em> has two goals:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>confd:prepare: generates the TOML files that can be used by the <code>process</code> goal or in order to prepare a config templates bundle for later usage</p>
</li>
<li>
<p>confd:process: process the templates locally</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="references">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/kelseyhightower/confd/">confd web site</a></p>
</li>
<li>
<p><a href="https://github.com/kelseyhightower/confd/blob/master/docs/quick-start-guide.md">confd getting started page</a></p>
</li>
<li>
<p><a href="https://golang.org/pkg/text/template/#pkg-overview">golang template engine</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                   2016.
          All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
