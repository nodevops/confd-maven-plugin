<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 2016-02-07 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>confd Maven Plugin &#x2013; </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20160207" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                confd Maven Plugin
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2016-02-07</span>
                  &nbsp;| <span id="projectVersion">Version: 0.1.0-SNAPSHOT</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
            <strong>Introduction</strong>
          </li>
                  <li class="none">
                          <a href="plugin-info.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
                          <a href="usage.html" title="Usage">Usage</a>
            </li>
          </ul>
                       <h5>Examples</h5>
                  <ul>
                  <li class="none">
                          <a href="example1.html" title="Simple Usage">Simple Usage</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                    <li class="expanded">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                    <ul>
                      <li class="none">
                          <a href="integration.html" title="Continuous Integration">Continuous Integration</a>
            </li>
                      <li class="none">
                          <a href="dependencies.html" title="Dependencies">Dependencies</a>
            </li>
                      <li class="none">
                          <a href="dependency-info.html" title="Dependency Information">Dependency Information</a>
            </li>
                      <li class="none">
                          <a href="distribution-management.html" title="Distribution Management">Distribution Management</a>
            </li>
                      <li class="none">
            <strong>About</strong>
          </li>
                      <li class="none">
                          <a href="issue-tracking.html" title="Issue Tracking">Issue Tracking</a>
            </li>
                      <li class="none">
                          <a href="license.html" title="Project License">Project License</a>
            </li>
                      <li class="none">
                          <a href="plugin-management.html" title="Plugin Management">Plugin Management</a>
            </li>
                      <li class="none">
                          <a href="plugins.html" title="Project Plugins">Project Plugins</a>
            </li>
                      <li class="none">
                          <a href="team-list.html" title="Project Team">Project Team</a>
            </li>
                      <li class="none">
                          <a href="source-repository.html" title="Source Repository">Source Repository</a>
            </li>
                      <li class="none">
                          <a href="project-summary.html" title="Project Summary">Project Summary</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="sect1">
<h2 id="confd_maven_plugin">Confd Maven Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://github.com/kelseyhightower/confd">confd</a> maven plugin aims at integrating <strong>confd</strong>, a lightweight configuration management tool, with maven.</p>
</div>
<div class="paragraph">
<p>Because we use extensively confd to deal with our environment dependant application configuration files (in a docker data-container for instance),
and because we want to use the same tool everywhere, starting with the developer workstation, we needed to be able to use confd templates and configuration files
inside a maven build.</p>
</div>
<div class="paragraph">
<p>The <em>confd-maven-plugin</em> hence allows you to use confd templates inside your project (instead of using the classical filtering functionalites provided by default by Maven)</p>
</div>
<div class="paragraph">
<p>Note: because confd is currently not available for the Windows operating system, we provide a workaround in the form of a (very) basic java implementation of confd (only for the <em>env</em> backend) that
only supports the <code>getv</code> template function like in the <code>{{getv "/myapp/database/url"}}</code> example.</p>
</div>
<div class="paragraph">
<p>The <em>confd-maven-plugin</em> provides the notion of <em>processor</em>, that will condition the type of <em>confd</em> binary that will be use. The plugin currently
supports 2 processors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <code>local-confd-processor</code> that uses a <em>real</em> confd binary. You can specify your confd binary path by setting the <code>binary.path</code> property.</p>
</li>
<li>
<p>the <code>java-processor</code> (for windows users) that uses the java confd port</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To make the <em>confd-maven-plugin</em> work, you have 3 kind of inputs to provide:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the equivalent of the <code>TOML resource config</code> that you can specify inside the configuration of the plugin (used by the <code>prepare</code> goal)</p>
</li>
<li>
<p>the templates that will be processed (file ending by the <code>.tmpl</code> extension by convention, used by the <code>process</code> goal)</p>
</li>
<li>
<p>the dictionary file that consists in a set of key/value pairs (used by the <code>process</code> goal)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The typical usage of this plugin will be to trigger 2 differents kind of execution, through maven profiles. One for the developer workstation, that will
trigger both the <code>prepare</code> and the <code>process</code> goals, and one dedicated to prepare something like a zip or a targz file, containing
the templates and the resource config files, targeted to be used on <em>production like</em> environment. See the <code>examples</code> section.</p>
</div>
<div class="sect2">
<h3 id="goals_overview">Goals Overview</h3>
<div class="paragraph">
<p>The <em>confd-maven-plugin</em> has two goals:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>confd:prepare: generate the TOML files that can be used by the <code>process</code> goal or in order to prepare a config templates bundle for later usage</p>
</li>
<li>
<p>confd:process: processe the templates locally</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="references">References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/kelseyhightower/confd/">confd web site</a></p>
</li>
<li>
<p><a href="https://github.com/kelseyhightower/confd/blob/master/docs/quick-start-guide.md">confd getting started page</a></p>
</li>
<li>
<p><a href="https://golang.org/pkg/text/template/#pkg-overview">golang template engine</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2016.
          All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
